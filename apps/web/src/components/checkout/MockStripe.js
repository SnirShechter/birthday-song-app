"use client";
import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState, useCallback } from "react";
import { motion, AnimatePresence } from "framer-motion";
import { X, Lock, CreditCard, Loader2 } from "lucide-react";
import { cn } from "@/lib/cn";
export function MockStripe({ isOpen, onClose, onSuccess, amount, currency = "USD", itemLabel, }) {
    const [isProcessing, setIsProcessing] = useState(false);
    const formattedAmount = (amount / 100).toFixed(2);
    const handlePay = useCallback(() => {
        setIsProcessing(true);
        setTimeout(() => {
            setIsProcessing(false);
            onSuccess();
        }, 1000);
    }, [onSuccess]);
    return (_jsx(AnimatePresence, { children: isOpen && (_jsxs(_Fragment, { children: [_jsx(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, onClick: onClose, className: "fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm" }), _jsxs(motion.div, { initial: { opacity: 0, scale: 0.95, y: 20 }, animate: { opacity: 1, scale: 1, y: 0 }, exit: { opacity: 0, scale: 0.95, y: 20 }, transition: { type: "spring", stiffness: 300, damping: 28 }, className: cn("fixed left-1/2 top-1/2 z-[61] w-full max-w-md -translate-x-1/2 -translate-y-1/2", "rounded-2xl p-0 overflow-hidden", "bg-[var(--surface)] border border-[var(--glass-border)]", "shadow-2xl"), children: [_jsxs("div", { className: "flex items-center justify-between border-b border-[var(--border)] px-6 py-4", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("div", { className: "flex h-8 w-8 items-center justify-center rounded-lg bg-[#635BFF]", children: _jsx("span", { className: "text-sm font-bold text-white", children: "S" }) }), _jsx("span", { className: "text-sm font-semibold text-[var(--text)]", children: "Checkout" })] }), _jsx(motion.button, { whileTap: { scale: 0.9 }, onClick: onClose, disabled: isProcessing, className: "flex h-8 w-8 items-center justify-center rounded-full text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--glass-bg)] transition-colors cursor-pointer disabled:opacity-50", children: _jsx(X, { className: "h-4 w-4" }) })] }), _jsxs("div", { className: "px-6 py-5", children: [_jsxs("div", { className: "mb-6 flex items-center justify-between rounded-xl bg-[var(--bg-secondary)] p-4", children: [_jsxs("div", { children: [_jsx("p", { className: "text-xs text-[var(--text-muted)]", children: "Order summary" }), _jsx("p", { className: "text-sm font-medium text-[var(--text)]", children: itemLabel })] }), _jsxs("span", { className: "text-lg font-bold text-[var(--text)]", children: ["$", formattedAmount] })] }), _jsxs("div", { className: "mb-4 flex flex-col gap-3", children: [_jsx("label", { className: "text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]", children: "Card information" }), _jsxs("div", { className: cn("flex items-center gap-2 rounded-xl px-4 py-3", "bg-[var(--surface)] border border-[var(--border)]"), children: [_jsx(CreditCard, { className: "h-4 w-4 text-[var(--text-muted)]" }), _jsx("input", { type: "text", value: "4242 4242 4242 4242", readOnly: true, className: "flex-1 bg-transparent text-sm text-[var(--text)] outline-none font-mono", dir: "ltr" }), _jsx("div", { className: "flex gap-1", children: _jsx("div", { className: "h-5 w-8 rounded bg-[#1A1F71] flex items-center justify-center", children: _jsx("span", { className: "text-[6px] font-bold text-white tracking-wider", children: "VISA" }) }) })] }), _jsxs("div", { className: "grid grid-cols-2 gap-3", children: [_jsx("div", { className: cn("flex items-center rounded-xl px-4 py-3", "bg-[var(--surface)] border border-[var(--border)]"), children: _jsx("input", { type: "text", value: "12/28", readOnly: true, className: "w-full bg-transparent text-sm text-[var(--text)] outline-none font-mono", dir: "ltr" }) }), _jsx("div", { className: cn("flex items-center rounded-xl px-4 py-3", "bg-[var(--surface)] border border-[var(--border)]"), children: _jsx("input", { type: "text", value: "424", readOnly: true, className: "w-full bg-transparent text-sm text-[var(--text)] outline-none font-mono", dir: "ltr" }) })] }), _jsx("div", { className: cn("flex items-center rounded-xl px-4 py-3", "bg-[var(--surface)] border border-[var(--border)]"), children: _jsx("input", { type: "text", value: "Test User", readOnly: true, className: "w-full bg-transparent text-sm text-[var(--text)] outline-none", dir: "ltr" }) })] }), _jsx(motion.button, { whileTap: isProcessing ? undefined : { scale: 0.98 }, whileHover: isProcessing ? undefined : { filter: "brightness(1.1)" }, onClick: handlePay, disabled: isProcessing, className: cn("flex w-full items-center justify-center gap-2 rounded-xl py-3.5", "bg-[image:var(--gradient-main)] text-white text-sm font-semibold", "shadow-lg shadow-[var(--color-primary)]/30", "hover:shadow-xl hover:brightness-110", "disabled:opacity-70 disabled:cursor-not-allowed", "transition-all duration-200 cursor-pointer"), children: isProcessing ? (_jsxs(_Fragment, { children: [_jsx(Loader2, { className: "h-4 w-4 animate-spin" }), "Processing..."] })) : (_jsxs(_Fragment, { children: [_jsx(Lock, { className: "h-4 w-4" }), "Pay $", formattedAmount] })) })] }), _jsxs("div", { className: "flex items-center justify-center gap-1.5 border-t border-[var(--border)] px-6 py-3", children: [_jsx(Lock, { className: "h-3 w-3 text-[var(--text-muted)]" }), _jsxs("span", { className: "text-xs text-[var(--text-muted)]", children: ["Powered by", " ", _jsx("span", { className: "font-semibold text-[#635BFF]", children: "Stripe" }), " ", "(Mock)"] })] })] })] })) }));
}
